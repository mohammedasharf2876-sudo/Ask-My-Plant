<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ูุดุชู ูุญูุฏ ุงูุฐูู</title>
  <style>
    :root{
      --g1:#1b5e20;
      --g2:#2e7d32;
      --bg:#fdfbf7;
      --card:#ffffff;
      --muted:#6b7280;
      --line:#e5e7eb;
      --shadow: 0 6px 18px rgba(0,0,0,.08);
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      font-family: "Segoe UI", Tahoma, sans-serif;
      background: var(--bg);
      margin:0;
      height:100vh;
      display:flex;
      flex-direction:column;
    }

    /* Top */
    .top{
      background: linear-gradient(90deg, var(--g1), var(--g2));
      color:#fff;
      padding:14px 14px 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,.12);
    }
    .brand{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .brand .title{
      font-weight:800;
      letter-spacing:.2px;
      font-size:1.15rem;
      display:flex;
      align-items:center;
      gap:8px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width:70vw;
    }
    .brand .tools{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      justify-content:flex-start;
    }
    .btn-mini{
      border:1px solid rgba(255,255,255,.35);
      background: rgba(255,255,255,.12);
      color:#fff;
      padding:8px 10px;
      border-radius:999px;
      cursor:pointer;
      font-weight:700;
      font-size:.85rem;
      backdrop-filter: blur(6px);
    }
    .btn-mini:active{transform:scale(.98)}

    .plant-card{
      background: rgba(255,255,255,.12);
      border:1px solid rgba(255,255,255,.25);
      border-radius: var(--radius);
      padding:10px;
      display:flex;
      gap:10px;
      align-items:center;
    }
    .plant-img{
      width:72px;
      height:72px;
      border-radius:16px;
      overflow:hidden;
      flex:0 0 auto;
      border:1px solid rgba(255,255,255,.35);
      background: rgba(255,255,255,.08);
    }
    .plant-img img{width:100%;height:100%;object-fit:cover;display:block}
    .plant-meta{flex:1; min-width:0;}
    .plant-meta .name{
      font-weight:900;
      font-size:1rem;
      margin-bottom:2px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .plant-meta .sub{
      font-size:.86rem;
      opacity:.95;
      color:#f1f5f9;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .chips{
      margin-top:8px;
      display:flex;
      gap:6px;
      flex-wrap:wrap;
    }
    .chip{
      border:1px solid rgba(255,255,255,.35);
      background: rgba(255,255,255,.14);
      color:#fff;
      padding:6px 10px;
      border-radius:999px;
      cursor:pointer;
      font-weight:800;
      font-size:.82rem;
      user-select:none;
    }
    .chip:active{transform:scale(.98)}

    /* Chat */
    #chatBox{
      flex:1;
      padding:14px;
      overflow-y:auto;
      display:flex;
      flex-direction:column;
      gap:12px;
      background-image: radial-gradient(#dcedc8 1px, transparent 1px);
      background-size: 20px 20px;
    }
    .msg{
      padding:12px 16px;
      border-radius:20px;
      max-width: 90%;
      font-size:15px;
      line-height:1.75;
      box-shadow: 0 1px 3px rgba(0,0,0,.08);
      position:relative;
      word-break:break-word;
    }
    .bot{
      background: var(--card);
      align-self:flex-start;
      color:#111827;
      border-bottom-right-radius: 6px;
      border:1px solid var(--line);
    }
    .user{
      background: var(--g2);
      align-self:flex-end;
      color:#fff;
      border-bottom-left-radius: 6px;
    }
    .meta-line{
      margin-top:8px;
      font-size:.85rem;
      color: var(--muted);
    }
    .mini-actions{
      margin-top:10px;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }
    .mini-actions button{
      border:1px solid var(--line);
      background:#fff;
      padding:7px 10px;
      border-radius:999px;
      cursor:pointer;
      font-weight:800;
      font-size:.85rem;
    }
    .mini-actions button:hover{background:#f9fafb}
    .typing{
      opacity:.9;
      display:inline-flex;
      align-items:center;
      gap:8px;
      color:#111827;
    }
    .dots{display:inline-flex; gap:4px;}
    .dot{
      width:6px;height:6px;border-radius:50%;
      background:#9ca3af;
      animation: bounce 1s infinite ease-in-out;
    }
    .dot:nth-child(2){animation-delay:.15s}
    .dot:nth-child(3){animation-delay:.3s}
    @keyframes bounce{0%,80%,100%{transform:translateY(0)}40%{transform:translateY(-5px)}}

    /* Input */
    .input-area{
      background:#fff;
      padding:12px;
      display:flex;
      gap:10px;
      border-top:1px solid var(--line);
      align-items:center;
    }
    input{
      flex:1;
      padding:12px 16px;
      border:2px solid #e5e7eb;
      border-radius:999px;
      outline:none;
      font-size:16px;
      transition:.25s;
    }
    input:focus{border-color: var(--g2)}
    .btn-send{
      background: var(--g1);
      color:#fff;
      border:none;
      padding:12px 16px;
      border-radius:999px;
      cursor:pointer;
      font-weight:900;
      white-space:nowrap;
    }
    .btn-voice{
      background:#fff;
      color: var(--g1);
      border:2px solid #e5e7eb;
      padding:12px 14px;
      border-radius:999px;
      cursor:pointer;
      font-weight:900;
    }
    .btn-voice.active{
      border-color: var(--g2);
      box-shadow: 0 0 0 4px rgba(46,125,50,.15);
    }

    /* Small */
    @media (max-width:420px){
      .plant-img{width:62px;height:62px}
      .btn-mini{padding:7px 9px}
      .chip{padding:6px 9px}
    }
  </style>
</head>

<body>
  <div class="top">
    <div class="brand">
      <div class="title" id="plantTitle">ูุจุชุชู ุงูุฐููุฉ ๐ฑ</div>
      <div class="tools">
        <button class="btn-mini" onclick="showHelp()">ุงูุฃูุงูุฑ</button>
        <button class="btn-mini" onclick="showPlantList()">ุงูุฃููุงุน</button>
        <button class="btn-mini" onclick="clearChat()">ูุณุญ</button>
      </div>
    </div>

    <div class="plant-card">
      <div class="plant-img"><img id="plantImg" alt="ุตูุฑุฉ ุงููุจุงุช" /></div>
      <div class="plant-meta">
        <div class="name" id="plantName">โ</div>
        <div class="sub" id="plantSub">โ</div>
        <div class="chips" id="quickChips"></div>
      </div>
    </div>
  </div>

  <div id="chatBox"></div>

  <div class="input-area">
    <button class="btn-voice" id="voiceBtn" onclick="toggleVoice()">๐ค</button>
    <input id="userInput" type="text" placeholder="ุงุณุฃูููโฆ (ุงุฒููุ ุฑูุ ุงุตูุฑุงุฑุ ุญุดุฑุงุชุ ููู ุฃุตูุตุ)" onkeypress="handleEnter(event)" />
    <button class="btn-send" onclick="replyLogic()">ุฅุฑุณุงู</button>
  </div>

<script>
/* =========================
   1) ูุงุนุฏุฉ ุจูุงูุงุช ุงููุจุงุชุงุช
   - img: ุงุฎุชูุงุฑู (ุฑูุงุจุท ุซุงุจุชุฉ ุฃู ุตูุฑ ูุญููุฉ)
   - q : ูููุฉ ุจุญุซ ููุตูุฑ (ูู img ูุด ููุฌูุฏุฉ ููุฌูุจ ุตูุฑุฉ ุชููุงุฆู ูู Unsplash)
   - aliases: ุฃุณูุงุก ุจุฏููุฉ (ุนุดุงู ูู ุงููุณุชุฎุฏู ูุชุจ ุงุณู ูุฎุชูู)
========================= */
const plantDB = {
  // ุนุทุฑูุงุช ูุฃุนุดุงุจ
  "ุฑูุญุงู": { cat:"ุนุทุฑู/ุนุดุจ", q:"basil herb plant", aliases:["ุญุจู"], w:"ููู ูููู (ุงูุชุฑุจุฉ ุฑุทุจุฉ ุฏุงุฆูุงู ุจุฏูู ุฅุบุฑุงู)", s:"ุดูุณ ูุจุงุดุฑุฉ ุตุจุงุญุงู + ุชูููุฉ", f:"ุณูุงุฏ ุนุถูู ุฎููู ูู ุดูุฑ", n:"ุงูุทู ุงูููู ุงููุงููุฉ ุนุดุงู ููุฑูุน." },
  "ูุนูุงุน": { cat:"ุนุทุฑู/ุนุดุจ", q:"mint plant", aliases:["ูุนูุงุน ุจูุฏู"], w:"ูู ููู ูู ุงูุตูู (ุจูุญุจ ุงูููุฉ) + ูุงุฒู ุตุฑู ูููุณ", s:"ุดูุณ ุฎูููุฉ ุฃู ูุตู ุธู", f:"ุณูุงุฏ ูุชูุงุฒู NPK ุฎููู ูู 3-4 ุฃุณุงุจูุน", n:"ุงูุฌุฐูุฑ ุจุชุฌุฑูโฆ ุงูุฃูุถู ูู ุฃุตูุต ููุญุฏู." },
  "ุฑูุฒูุงุฑู": { cat:"ุนุทุฑู/ุนุดุจ", q:"rosemary plant", aliases:["ุฅูููู ุงูุฌุจู"], w:"ููุง ุงูุชุฑุจุฉ ุชูุดู ุชูุงูุงู", s:"ุดูุณ ูููุฉ (ุจูุชุญูู)", f:"ูุด ูุญุชุงุฌ ุชุณููุฏ ูุชูุฑ", n:"ุฑูุญุชู ุจุชุทุฑุฏ ุจุนุถ ุงูุญุดุฑุงุช." },
  "ุฒุนุชุฑ": { cat:"ุนุทุฑู/ุนุดุจ", q:"thyme herb plant", aliases:["ุฒุนุชุฑ ุจูุฏู"], w:"ูููู ุฌุฏุงู (ุจููุฑู ุงูููุฉ ุงููุชูุฑ)", s:"ุดูุณ ูุงููุฉ", f:"ูุฑุฉ ูู ููุณู", n:"ููู ูุจูุชูุจู ุงูุฌูุงู." },
  "ูุงููุฏุฑ": { cat:"ุนุทุฑู/ุนุดุจ", q:"lavender plant", aliases:["ุฎูุฒุงูู"], w:"ููุง ุงูุชุฑุจุฉ ุชุฌู (ุจููุฑู ุงูุฑุทูุจุฉ)", s:"ุดูุณ ูููุฉ ุฌุฏุงู", f:"ูููู ุฌุฏุงู", n:"ุจูุญุจ ุงูุฌู ุงูุฌุงู ูุงูุชูููุฉ." },

  // ุฒููุฑ ููุฒูุฑุงุช
  "ูุฑุฏ ุจูุฏู": { cat:"ุฒููุฑ", q:"rose plant", aliases:["ูุฑุฏ"], w:"ููู ูููู ุจุงูุชุธุงู ุญุณุจ ุงูุฌู", s:"ุดูุณ ูุจุงุดุฑุฉ 6 ุณุงุนุงุช ุนูู ุงูุฃูู", f:"NPK ุนุงูู ุงูุจูุชุงุณููู ููุช ุงูุชุฒููุฑ", n:"ูุต ุงููุฑุฏ ุงูุฏุจูุงู ุฃูู ุจุฃูู." },
  "ูู": { cat:"ุฒููุฑ", q:"jasmine sambac plant", aliases:["ูู ุจูุฏู"], w:"ูู ููููู (ุชุฑุจุฉ ุฑุทุจุฉ ุจุฏูู ุบุฑู)", s:"ุดูุณ ูุบุฑุจูุฉ (ูุด ุญุงุฑูุฉ)", f:"ุญุฏูุฏ ูู ุดูุฑ ูู ุงููุฑู ุจูุตูุฑ", n:"ุฑูุญุชูุง ุจุชููู ููุช ุงูุบุฑูุจ." },
  "ูุงุณููู": { cat:"ุฒููุฑ", q:"jasmine vine plant", aliases:["ูุงุณููู ูุชุณูู"], w:"ูุนุชุฏู (ููุง ุงููุด ููุดู)", s:"ุดูุณ ูุงููุฉ", f:"ุณูุงุฏ ูุชูุงุฒู", n:"ูุญุชุงุฌ ุฏุนุงูุฉ/ุดุจู ููุชุณูู." },
  "ุฌุงุฑุฏูููุง": { cat:"ุฒููุฑ", q:"gardenia plant", aliases:["Gardenia"], w:"ููุงู ููููุฉ ุงููููุฑ + ุซุจุงุช ูู ุงูุฑู", s:"ุถูุก ููู ุฌุฏุงู ุบูุฑ ูุจุงุดุฑ", f:"ุญุฏูุฏ + ุณูุงุฏ ุญุงูุถู", n:"ุจุชูุฑู ุชุบููุฑ ุงูููุงู ูุฌุฃุฉ." },
  "ูุณู ุงูููู": { cat:"ุฒููุฑ", q:"night blooming jasmine plant", aliases:["ูุณู"], w:"ููู ูููู", s:"ุดูุณ ูุจุงุดุฑุฉ", f:"ุณูุงุฏ ุจูุฏู/ุนุถูู", n:"ุฑูุญุชูุง ุจุชุฒูุฏ ุจุงูููู." },
  "ุฌููููุฉ": { cat:"ุฒููุฑ ุฎุงุฑุฌูุฉ", q:"bougainvillea plant", aliases:["ุจูฺููููุง"], w:"ุชุนุทูุด ุฎููู ุนุดุงู ุชุฒูุฑ (ูููู)", s:"ุดูุณ ุญุงุฑูุฉ ุทูู ุงูููู", f:"ูุด ูุญุชุงุฌุฉ ุฏูุน", n:"ูู ูุง ุชูู ุงูููุฉ ุชุทูุน ูุฑุฏ ุฃูุชุฑ (ูู ุบูุฑ ูุง ุชุฐุจู)." },
  "ูุงูุจุณูุณ": { cat:"ุฒููุฑ", q:"hibiscus plant", aliases:["ูุฑูุฏูู ุฒููุฉ","ููุจุณูุณ"], w:"ููู ูููู ูู ุงูุตูู", s:"ุดูุณ ูุจุงุดุฑุฉ", f:"NPK ูู ุฃุณุจูุนูู", n:"ุฒูุฑุชูุง ููู ูุงุญุฏ ุจุณโฆ ุจุณ ุดูููุง ุฑููุจ." },
  "ูููุง": { cat:"ุฒููุฑ", q:"vinca plant", aliases:["ูููุง ุฑูุฒ"], w:"ูู ููู ูู ุงูุญุฑ ูู ุฃุตูุต ุตุบูุฑ", s:"ุดูุณ ุฃู ูุตู ุธู", f:"NPK ูุชุนุงุฏู", n:"ูู ุฃููู ุงููุฒูุฑุงุช ูู ุญุฑ ูุตุฑ." },
  "ุฌุงุฑูููุง": { cat:"ุฒููุฑ", q:"geranium plant", aliases:["ุฌุฑุงูููู","ุฅุจุฑุฉ ุงูุฑุงุนู"], w:"ูุนุชุฏู", s:"ุดูุณ ุงูุตุจุญ ุจุณ", f:"ุจูุชุงุณููู ููุชุฒููุฑ", n:"ุจุชุญุจ ููุงุก ูููุงู ูููุฑ." },

  // ูุจุงุชุงุช ุฒููุฉ ุฏุงุฎููุฉ (ุถูููุฉ)
  "ุจูุชุณ": { cat:"ุฏุงุฎูู", q:"pothos plant", aliases:["ุจูุชุณ ุฐูุจู","Pothos"], w:"ูู 4-5 ุฃูุงู (ููุง ุงูุชุฑุจุฉ ุชูุดู)", s:"ุถูุก ุดุจุงู/ููุจุฉ (ุถู)", f:"ุณูุงุฏ ูุฑูู ุฎููู", n:"ุฃุณูู ุฒุฑุนุฉ ูููุจุชุฏุฆูู." },
  "ุฌูุฏ ุงูููุฑ": { cat:"ุฏุงุฎูู", q:"snake plant sansevieria", aliases:["ุณุงูุณูููุฑูุง","ุณูุณููุฑูุง"], w:"ูู ุฃุณุจูุนูู ูุฑุฉ (ุงูุณุงู)", s:"ุฃู ุฅุถุงุกุฉ (ูููุฉ ุฃู ุถุนููุฉ)", f:"ูุด ูุญุชุงุฌ", n:"ูุณุชุญูู ุฌุฏุงูโฆ ุงูุฒูุงุฏุฉ ูู ุงูุฑู ุจุชุนูููู." },
  "ุฒุงููุง": { cat:"ุฏุงุฎูู", q:"zz plant zamioculcas", aliases:["ZZ"], w:"ูุฑุฉ ูู 20 ููู", s:"ุถู ูุงูู ุฃู ุถูุก ุฎููู", f:"NPK ูู ุดูุฑูู", n:"ุดูููุง ุดูู ูุจุชููุน." },
  "ูููุณุชููุฑุง": { cat:"ุฏุงุฎูู", q:"monstera deliciosa plant", aliases:["ูููุณุชูุฑุง"], w:"ููุง ูุต ุงูุชุฑุจุฉ ููุดู", s:"ุถูุก ุณุงุทุน ุบูุฑ ูุจุงุดุฑ", f:"NPK ุดูุฑูุงู (ุฑุจูุน/ุตูู)", n:"ุจุชุญุจ ุฑุทูุจุฉ ุงูุฌูโฆ ุฑุด ุฎููู." },
  "ุฏุฑุงุณูุจูุง": { cat:"ุฏุงุฎูู", q:"dracaena plant", aliases:["ุฏุฑุงุณููุง"], w:"ูุนุชุฏู", s:"ุถูุก ูุชูุณุท", f:"ุณูุงุฏ ุฃุฎุถุฑ", n:"ุงูุณุญ ุงููุฑู ุนุดุงู ูููุน." },
  "ุณูุฌููููู": { cat:"ุฏุงุฎูู", q:"syngonium plant", aliases:["ุณูุบููููู"], w:"ุฑุทูุจุฉ ูุณุชูุฑุฉ ุจุฏูู ุบุฑู", s:"ุถู", f:"NPK ุฎููู", n:"ุจุชูุจุฑ ุจุณุฑุนุฉ ููุฑููุง ุดุจู ุงูุณูู." },
  "ุงูุชูุฑููู": { cat:"ุฏุงุฎูู", q:"anthurium plant", aliases:["ุฃูุซูุฑููู"], w:"ููุงู ููููุฉ ุงููููุฑ", s:"ุถูุก ููู ุฌุฏุงู ุฏุงุฎู ุงูุจูุช", f:"ุณูุงุฏ ุฒููุฑ", n:"ุฒูุฑุชูุง ุจุชูุถู ูุฏุฉ ุทูููุฉ." },
  "ูููุณ ุฏูููุฑุง": { cat:"ุฏุงุฎูู/ูุตู ุฎุงุฑุฌู", q:"ficus elastica rubber plant", aliases:["ูููุณ ูุทุงุท","ุฑูุจุฑ"], w:"ููุง ุงูุชุฑุจุฉ ุชูุดู ุชูุงูุงู", s:"ุถูุก ุดุจุงู ููู", f:"NPK", n:"ูุถูู ุงููุฑู ุจููุงุดุฉ ูุจูููุฉ." },
  "ุจุงูุจู": { cat:"ุฏุงุฎูู", q:"lucky bamboo plant", aliases:["ูุงูู ุจุงูุจู"], w:"ุบูุฑ ุงูููุฉ ูู ุฃุณุจูุน (ูู ูู ูุงุฒุฉ)", s:"ุถูุก ุบุฑูุฉ", f:"ููุทุชูู ูุบุฐู ูู ุงูููุฉ", n:"ุฎููู ุนูู ููุฉ ูุธููุฉ ุนุดุงู ููุนููุด." },
  "ูุฑูุชูู": { cat:"ุฏุงุฎูู", q:"croton plant", aliases:["ูุฑูุชู"], w:"ุจูุญุจ ุงูุนุทุด ุดููุฉ ุจูู ุงูุฑูุงุช", s:"ุถูุก ููู ุนุดุงู ููููู", f:"NPK", n:"ูู ุงูุถูุก ููโฆ ุงููุฑู ูุฎุถุฑ." },
  "ุฃุฌูููููุง": { cat:"ุฏุงุฎูู", q:"aglaonema plant", aliases:["ุฃุฌูููููุฉ"], w:"ูุนุชุฏู", s:"ุถู ุฃู ุถูุก ุฎููู", f:"NPK ุฎููู", n:"ุจุชุณุชุญูู ููุฉ ุงูุถูุก." },
  "ููุฌูุฑ": { cat:"ุฏุงุฎูู", q:"fern plant", aliases:["ุณุฑุฎุณ"], w:"ุจูุญุจ ุงูููุฉ ูุงูุฑุด", s:"ุถู ูุฑุทูุจุฉ", f:"ุณูุงุฏ ูุฑูู", n:"ุนุงูุฒ ุฑุทูุจุฉ ุซุงุจุชุฉ." },
  "ูููุง": { cat:"ุฏุงุฎูู/ุฎุงุฑุฌู", q:"yucca plant", aliases:["ูููุง ููู"], w:"ูููู ุฌุฏุงู", s:"ุดูุณ ุฃู ุถู", f:"ูุชูุงุฒู ูู ุดูุฑูู", n:"ููู ุฌุฏุงู ููุด ุฏููุน." },
  "ุดูููุฑุง": { cat:"ุฏุงุฎูู", q:"schefflera plant", aliases:["ุดููููุฑุง"], w:"ูุนุชุฏู", s:"ุถูุก ููู", f:"NPK", n:"ูู ุงุชุทููุชโฆ ูุต ุงูููู ูุชูุฑูุน." },

  // ุตุจุงุฑุงุช ูุนุตุงุฑูุงุช
  "ุตุจุงุฑ": { cat:"ุนุตุงุฑูุงุช", q:"cactus plant", aliases:["ูุงูุชูุณ"], w:"ููุทุฉ ููุฉ ูู ุดูุฑ (ุญุณุจ ุงูุฌู)", s:"ุดูุณ ุฃู ุถูุก ููู", f:"ูุด ูุญุชุงุฌ", n:"ุงูุฒูุงุฏุฉ ูู ุงูุฑู = ุนูู." },
  "ุงููููุฑุง": { cat:"ุนุตุงุฑูุงุช", q:"aloe vera plant", aliases:["ุฃููููุฑุง","ุฃููุฉ"], w:"ูู 3 ุฃุณุงุจูุน", s:"ุดูุณ ุฎูููุฉ", f:"ูุฑุฉ ูู ุงูุณูุฉ", n:"ุงูุฌู ูููุฏโฆ ุจุณ ุจูุงุด ุบุฑู." },
  "ุฅูุดููุฑูุง": { cat:"ุนุตุงุฑูุงุช", q:"echeveria succulent", aliases:["Echeveria"], w:"ูููู ุฌุฏุงู", s:"ุดูุณ", f:"ุณูุงุฏ ูุงูุชูุณ ุฎููู", n:"ูุชูููุณุด ููุจูุง ููุฉ ูุชูุฑ." },
  "ูุงูุงูุดู": { cat:"ุนุตุงุฑูุงุช ูุฒูุฑุฉ", q:"kalanchoe plant", aliases:["ูุงูุงูููุง"], w:"ููุง ุงูุชุฑุจุฉ ุชุญุฌุฑ", s:"ุถูุก ุดุจุงู", f:"NPK ุฎููู", n:"ุฒููุฑ ุฃููุงู ูุชูุฑ." },

  // ุฃุดุฌุงุฑ ูุดุฌูุฑุงุช ุฎุงุฑุฌูุฉ
  "ูููุณ ูุชุฏุง": { cat:"ุฎุงุฑุฌู", q:"ficus nitida tree", aliases:["ูููุณ ููุชูุฏุง","ูููุณ ุณูุฑ"], w:"ููู ูููู", s:"ุดูุณ", f:"NPK ุนุงูู ุงูููุชุฑูุฌูู", n:"ููุชุงุฒ ูุณูุฑ ุดุฌุฑู." },
  "ุชููููุง": { cat:"ุฎุงุฑุฌู", q:"tecoma stans plant", aliases:["ุชููููุง ุตูุฑุงุก"], w:"ูุนุชุฏู", s:"ุดูุณ", f:"ูุชูุงุฒู", n:"ูุฑุฏูุง ุฃุตูุฑ ูุจูุฌ." },
  "ูุงูุชุงูุง": { cat:"ุฎุงุฑุฌู", q:"lantana plant", aliases:["ูุงูุชุงูุง ููููุฉ"], w:"ูููู", s:"ุดูุณ ุญุงุฑูุฉ", f:"ูุด ุถุฑูุฑู", n:"ุจุชูู ูุฑุงุดุงุช ูุฃููุงููุง ุจุชุชุบูุฑ." },
  "ููุฑููุฌุง": { cat:"ุฎุงุฑุฌู", q:"moringa tree", aliases:["ููุฑููุบุง"], w:"ูุนุชุฏู", s:"ุดูุณ", f:"ุนุถูู", n:"ูุฑููุง ูููุฏโฆ ุจุณ ูุญุชุงุฌุฉ ุดูุณ." },
  "ููููู": { cat:"ูุซูุฑ", q:"lemon tree", aliases:["ููููู ุจูุฏู"], w:"ููุชุธู (ุจููุฑู ุงูุนุทุด)", s:"ุดูุณ ูุงููุฉ", f:"ุญุฏูุฏ + ุนูุงุตุฑ ุตุบุฑู", n:"ุนุดุงู ูุทุฑุญ: ุดูุณ + ุชุณููุฏ + ุฑู ููุชุธู." },
  "ุฒูุชูู": { cat:"ูุซูุฑ", q:"olive tree", aliases:["ุดุฌุฑุฉ ุฒูุชูู"], w:"ูููู", s:"ุดูุณ", f:"ุนุถูู", n:"ุดุฌุฑุฉ ูุนููุฑุฉ ูุชุณุชุญูู." },

  // ุฅุถุงูุงุช
  "ุณุฌุงุฏ": { cat:"ุฏุงุฎูู", q:"spider plant chlorophytum", aliases:["ุณุจุงูุฏุฑ","ูููุฑูููุชูู"], w:"ูู ููููู/3 ุญุณุจ ุงูุฌู", s:"ุดูุณ ุฎูููุฉ ุฃู ุถู ูููุฑ", f:"NPK", n:"ูุต ุงูุดูุฑูุฎ ุงูุฒูุฑู ูู ุนุงูุฒ ุงููุฑู ูููู." },
  "ูุทููุฉ": { cat:"ุฒููุฑ", q:"marigold plant", aliases:["ูุทููุฉ ุจูุฏู","ูุงุฑูุฌููุฏ"], w:"ููู ูููู", s:"ุดูุณ", f:"NPK", n:"ุจุชุฒูุฑ ูููุณ ูู ุงูุฌู ุงููุนุชุฏู." },
  "ูุฑููู": { cat:"ุฒููุฑ", q:"carnation plant", aliases:["ูุฑููู ุจูุฏู"], w:"ูุนุชุฏู", s:"ุดูุณ", f:"ูุชูุงุฒู", n:"ููุงุก ูููุณ ูููู ุงููุทุฑูุงุช." },
  "ูุนูุงุน ุณุนูุฏู": { cat:"ุนุทุฑู/ุนุดุจ", q:"mint plant", aliases:["ูุนูุงุน ุตุบูุฑ"], w:"ูุชูุฑ", s:"ูุตู ุธู", f:"ุนุถูู", n:"ุฑูุญุชู ูููุฉโฆ ุจุณ ุนุงูุฒ ุฑู ุฃูุชุฑ." },
  "ุฒุนุชุฑ ุจุฑู": { cat:"ุนุทุฑู/ุนุดุจ", q:"wild thyme plant", aliases:["ุฒุนุชุฑ ุฌุจูู"], w:"ูููู", s:"ุดูุณ", f:"ูุง ููุฌุฏ", n:"ูุชุญูู ุญุฑุงุฑุฉ ูุฌูุงู." },
  "ุฃูุงุณูุง": { cat:"ุฎุงุฑุฌู", q:"acacia tree", aliases:["ุงูุงุณูุง"], w:"ูููู", s:"ุดูุณ", f:"ูุง ููุฌุฏ", n:"ุดุฌุฑุฉ ุธู ููุชุงุฒุฉ." },
  "ุจููุณูุงุชุง": { cat:"ุฏุงุฎูู/ูุตู ุฎุงุฑุฌู", q:"poinsettia plant", aliases:["ุจูุช ุงูููุตู","ุจูููุณูุงุชูุง"], w:"ูุนุชุฏู", s:"ุถูุก ุณุงุทุน", f:"NPK", n:"ุจุชูููู ูู ุงูุดุชุงุก ูู ุฅุถุงุกุฉ ูููุณุฉ." },
  "ุฏุฑุงุณููุง ููููู": { cat:"ุฏุงุฎูู", q:"dracaena lemon lime plant", aliases:["ุฏุฑุงุณููุง ููููู ูุงูู"], w:"ููุง ุชุฌู", s:"ุถูุก ูุชูุณุท", f:"ูุฑูู", n:"ููููุง ูุจูุฌโฆ ุจูุงุด ุดูุณ ุญุงุฑูุฉ." },

  // ุฅุถุงูุงุช ูุฑูุน โุงูููุฉ ุงูุฎุงุฑูุฉโ
  "ุฒูุจู ุงูุณูุงู": { cat:"ุฏุงุฎูู", q:"peace lily plant", aliases:["ุณุจุงุซูููููู","Peace Lily"], w:"ููุง ุณุทุญ ุงูุชุฑุจุฉ ููุดู", s:"ุถูุก ุบูุฑ ูุจุงุดุฑ", f:"ุณูุงุฏ ุฃุฎุถุฑ ุฎููู", n:"ูู ุนุทุดุงูโฆ ุจูุชูุฏู ููููู ุจุนุฏ ุงูุฑู." },
  "ุฏูููุจุงุฎูุง": { cat:"ุฏุงุฎูู", q:"dieffenbachia plant", aliases:["ุฏูููุจุงุฎูุง"], w:"ูุนุชุฏู", s:"ุถูุก ูุชูุณุท ุบูุฑ ูุจุงุดุฑ", f:"NPK ุฎููู", n:"ุณุงููุฉ ูู ุงุชุงููุชโฆ ุฎููู ุจุนูุฏ ุนู ุฃุทูุงู/ุญููุงูุงุช." },
  "ูุงูุงุซูุง": { cat:"ุฏุงุฎูู", q:"calathea plant", aliases:["ูุงูุงุชูุง"], w:"ุฑุทูุจุฉ ุซุงุจุชุฉ", s:"ุถูุก ุฎููู", f:"ูุฑูู ุฎููู", n:"ุจุชุญุจ ููุฉ ููููุฉ ุงููููุฑ ูุฑุทูุจุฉ ุนุงููุฉ." },
  "ููููุฏููุฏุฑูู": { cat:"ุฏุงุฎูู", q:"philodendron plant", aliases:["ููููุฏูุฏุฑูู"], w:"ููุง ุงููุด ููุดู", s:"ุถูุก ุบูุฑ ูุจุงุดุฑ", f:"NPK ุฎููู", n:"ุดุจูู ุจุงููููุณุชูุฑุงโฆ ูุจูุญุจ ุฑุทูุจุฉ." },
  "ุฃุฑููุง": { cat:"ุฏุงุฎูู", q:"areca palm", aliases:["ูุฎูู ุฃุฑููุง"], w:"ูุนุชุฏู", s:"ุถูุก ุณุงุทุน ุบูุฑ ูุจุงุดุฑ", f:"ูุชูุงุฒู", n:"ูุฑูุน ุงูุฑุทูุจุฉ ุญูุงููู ุงูููุงู." },
};

/* =========================
   2) ุฐูุงุก ุงููุญุงุฏุซุฉ (NLP ุจุณูุท)
========================= */
const state = {
  plantKey: null,
  plantNameFromURL: null,
  plantObj: null,
  lastTopic: null,
  lastBotPayload: null,
  voiceOn: false,
  recognition: null
};

const QUICK_CHIPS = ["ุงุฒููุ", "ุฎูุงุตุฉ ุงูุนูุงูุฉ", "ุงูุฑู", "ุงูุดูุณ/ุงูููุงู", "ุณูุงุฏ", "ุงุตูุฑุงุฑ/ุฐุจูู", "ุญุดุฑุงุช", "ููู ุฃุตูุต", "ุฅูุซุงุฑ", "ุชูููู", "ุชุฑุจุฉ", "ุณููููุฉ ููุญููุงูุงุชุ", "ุงุดุฑุญูู ุฃูุชุฑ"];

function escapeHTML(str){
  return (str ?? "").toString()
    .replaceAll("&","&amp;")
    .replaceAll("<","&lt;")
    .replaceAll(">","&gt;")
    .replaceAll('"',"&quot;")
    .replaceAll("'","&#039;");
}

function normalizeArabic(str){
  if(!str) return "";
  return str
    .toString()
    .trim()
    .toLowerCase()
    .replace(/[ุฅุฃุขุง]/g,"ุง")
    .replace(/ู/g,"ู")
    .replace(/ุฉ/g,"ู")
    .replace(/ุค/g,"ู")
    .replace(/ุฆ/g,"ู")
    .replace(/ู/g,"")
    .replace(/[ูููููููู]/g,"")
    .replace(/\s+/g," ");
}

function similarity(a,b){
  // ุชุดุงุจู ุจุณูุท (Jaccard ุนูู ุงููููุงุช) + ููุงูุฃุฉ ูู ููุณ ุงูุจุฏุงูุฉ
  a = normalizeArabic(a); b = normalizeArabic(b);
  if(!a || !b) return 0;
  if(a === b) return 1;
  const A = new Set(a.split(" "));
  const B = new Set(b.split(" "));
  let inter=0;
  for(const x of A) if(B.has(x)) inter++;
  const union = A.size + B.size - inter;
  let score = union ? inter/union : 0;
  if(b.startsWith(a) || a.startsWith(b)) score += 0.2;
  return Math.min(1, score);
}

function findPlantKeyByName(name){
  const n = normalizeArabic(name);
  if(!n) return null;

  // direct key match
  for(const key of Object.keys(plantDB)){
    if(normalizeArabic(key) === n) return key;
  }

  // alias match
  for(const [key,obj] of Object.entries(plantDB)){
    if(obj.aliases){
      for(const al of obj.aliases){
        if(normalizeArabic(al) === n) return key;
      }
    }
  }

  // fuzzy match
  let bestKey=null, bestScore=0;
  for(const key of Object.keys(plantDB)){
    const sc = similarity(n, key);
    if(sc > bestScore){ bestScore=sc; bestKey=key; }
    const obj = plantDB[key];
    if(obj.aliases){
      for(const al of obj.aliases){
        const sc2 = similarity(n, al);
        if(sc2 > bestScore){ bestScore=sc2; bestKey=key; }
      }
    }
  }
  return bestScore >= 0.55 ? bestKey : null;
}

function getUnsplash(query){
  // ุตูุฑุฉ ุชููุงุฆูุฉ ูุฃู ูุจุงุช (ุญุชู ูู ุงูููุน ูุด ูู ุงููุงุนุฏุฉ)
  // ููุงุญุธุฉ: ุงูุตูุฑุฉ ุจุชุชุบูุฑ ุญุณุจ ูุชุงุฆุฌ Unsplash
  const q = encodeURIComponent((query || "plant").toString());
  return `https://source.unsplash.com/640x480/?${q}`;
}

function setPlant(typeFromURL){
  state.plantNameFromURL = typeFromURL || "ุนุงูุฉ";
  const maybeKey = findPlantKeyByName(state.plantNameFromURL);
  state.plantKey = maybeKey;
  state.plantObj = maybeKey ? plantDB[maybeKey] : null;

  const displayName = maybeKey || state.plantNameFromURL || "ุนุงูุฉ";
  document.getElementById("plantTitle").innerText = "ุฏุฑุฏุดุฉ ูุน: " + displayName + " ๐ฑ";
  document.getElementById("plantName").innerText = displayName;

  const sub = state.plantObj
    ? `ููุน: ${state.plantObj.cat} โข ุงุณุฃููู ุจุฃู ุทุฑููุฉ (ุญุชู ูู ุณุคุงู ุนุงู ุฃู ุฃุนุฑุงุถ)`
    : `ูุด ูุงูู ุงูููุน ุฏู ูู ุงููุงุฆูุฉโฆ ุจุณ ูุณุงุนุฏู ุจุฅุฌุงุจุงุช ุนุงูุฉ + ุชุดุฎูุต ุฐูู`;
  document.getElementById("plantSub").innerText = sub;

  // image
  const imgEl = document.getElementById("plantImg");
  const q = state.plantObj?.q || displayName;
  const img = (state.plantObj?.img && state.plantObj.img[0]) ? state.plantObj.img[0] : getUnsplash(q);
  imgEl.src = img;
  imgEl.onerror = () => { imgEl.src = getUnsplash("plant"); };

  renderChips();
  loadChat();
}

function renderChips(){
  const box = document.getElementById("quickChips");
  box.innerHTML = "";
  QUICK_CHIPS.forEach(t=>{
    const c = document.createElement("div");
    c.className = "chip";
    c.textContent = t;
    c.onclick = ()=>{ document.getElementById("userInput").value = t; document.getElementById("userInput").focus(); };
    box.appendChild(c);
  });
}

function addMsg(html, side, extraActions=null, persist=true){
  const box = document.getElementById("chatBox");
  const div = document.createElement("div");
  div.className = `msg ${side}`;
  div.innerHTML = html;

  if(extraActions && side==="bot"){
    const wrap = document.createElement("div");
    wrap.className = "mini-actions";
    extraActions.forEach(a=>{
      const b = document.createElement("button");
      b.type="button";
      b.textContent = a.label;
      b.onclick = ()=> {
        document.getElementById("userInput").value = a.fill;
        document.getElementById("userInput").focus();
      };
      wrap.appendChild(b);
    });
    div.appendChild(wrap);
  }

  box.appendChild(div);
  box.scrollTop = box.scrollHeight;

  if(persist) saveChat();
}

function addTyping(){
  const html = `<span class="typing">ุจููุฑโฆ <span class="dots"><span class="dot"></span><span class="dot"></span><span class="dot"></span></span></span>`;
  addMsg(html, "bot", null, false);
  return document.querySelector("#chatBox .msg.bot:last-child");
}
function removeTyping(node){
  if(node && node.parentNode) node.parentNode.removeChild(node);
}

function handleEnter(e){
  if(e.key === "Enter") replyLogic();
}

/* =========================
   3) ุฃูุงูุฑ/ูุณุงุนุฏุฉ
========================= */
function showHelp(){
  const html = `
    <b>ุฃูุงูุฑ ุณุฑูุนุฉ:</b><br>
    โข <b>ุฎูุงุตุฉ ุงูุนูุงูุฉ</b> (ููุฎุต ุณุฑูุน)<br>
    โข <b>ุบูุฑ ุงููุจุงุช ู: ุงุณู</b> (ูุซุงู: ุบูุฑ ุงููุจุงุช ู: ูููุณุชูุฑุง)<br>
    โข ุงุณุฃู ุจุฃู ุตูุบุฉ: (ุงุฒููุ) (ููู ุงููุฑู ุจูุตูุฑุ) (ุฃุญุทูุง ูููุ) (ุฃุฑูู ุงูุชูุ) (ุญุดุฑุงุชุ) (ููู ุฃุตูุตุ)<br>
    <div class="meta-line">ูุนูููุฉ: ูู ููุช <b>ุงุดุฑุญูู</b> ูุงูุชุญ ูู ุชูุงุตูู ุฃูุชุฑ ุนู ุขุฎุฑ ููุทุฉ ุงุชููููุง ูููุง.</div>
  `;
  addMsg(html, "bot", [
    {label:"ุฎูุงุตุฉ ุงูุนูุงูุฉ", fill:"ุฎูุงุตุฉ ุงูุนูุงูุฉ"},
    {label:"ุงุดุฑุญูู ุฃูุชุฑ", fill:"ุงุดุฑุญูู ุฃูุชุฑ"},
    {label:"ุบูุฑ ุงููุจุงุช", fill:"ุบูุฑ ุงููุจุงุช ู: "}
  ]);
}

function showPlantList(){
  const keys = Object.keys(plantDB);
  let html = `<b>ุงููุจุงุชุงุช ุงููุชุงุญุฉ ุนูุฏู ุญุงููุงู (${keys.length}):</b><br>`;
  html += keys.map(k=>`โข ${k}`).join("<br>");
  html += `<div class="meta-line">ูู ูุจุงุชู ูุด ููุฌูุฏโฆ ุงูุชุจ ุงุณูู ุจุฑุถู ููุฑุฏ ุนููู ุจุฅุฑุดุงุฏุงุช ุนุงูุฉ ูุชุดุฎูุต ููุฃุนุฑุงุถ.</div>`;
  addMsg(html, "bot", [{label:"ุบูุฑ ุงููุจุงุช ูโฆ", fill:"ุบูุฑ ุงููุจุงุช ู: "}]);
}

function clearChat(){
  const key = getStorageKey();
  localStorage.removeItem(key);
  document.getElementById("chatBox").innerHTML = "";
  welcome();
}

/* =========================
   4) ุชุฎุฒูู ุงููุญุงุฏุซุฉ
========================= */
function getStorageKey(){
  const name = state.plantKey || state.plantNameFromURL || "ุนุงูุฉ";
  return "nursery_chat_" + normalizeArabic(name);
}

function saveChat(){
  const box = document.getElementById("chatBox");
  const msgs = Array.from(box.querySelectorAll(".msg")).map(m=>({
    side: m.classList.contains("user") ? "user" : "bot",
    html: m.innerHTML
  }));
  localStorage.setItem(getStorageKey(), JSON.stringify(msgs));
}

function loadChat(){
  const raw = localStorage.getItem(getStorageKey());
  const box = document.getElementById("chatBox");
  box.innerHTML = "";
  if(!raw){ welcome(); return; }
  try{
    const msgs = JSON.parse(raw);
    msgs.forEach(m=>{
      // ุฅุนุงุฏุฉ ุจูุงุก ุงูุฑุณุงูุฉ ุจุฏูู ุญูุธ ุชุงูู
      const div = document.createElement("div");
      div.className = `msg ${m.side}`;
      div.innerHTML = m.html;
      box.appendChild(div);
    });
    box.scrollTop = box.scrollHeight;
    // ูู ุงููุญุงุฏุซุฉ ูุงุถูุฉ ุฃู ูููุง ูุดููุฉ
    if(!box.children.length) welcome();
  }catch{
    welcome();
  }
}

/* =========================
   5) โููุฉ ุฎุงุฑูุฉโ ูู ุงูุฑุฏูุฏ
========================= */
function plantChecklist(plantKey){
  const p = plantDB[plantKey];
  if(!p) return [
    "ุงูุญุต ุงูุชุฑุจุฉ ูุจู ุงูุฑู: ูุงุดูุฉ = ุงุณููุ ุทุฑูุฉ = ุงุณุชูู.",
    "ุญุทูุง ูู ุถูุก ููุงุณุจ (ุบูุฑ ูุจุงุดุฑ ุฃูุถู ููุนุธู ุงูุฏุงุฎูู).",
    "ุตุฑู ูููุณ ุฃูู ุญุงุฌุฉ: ูุชุญุงุช ุฃุณูู ุงูุฃุตูุต."
  ];
  return [
    `๐ง <b>ุฑู:</b> ${p.w}`,
    `โ๏ธ <b>ููุฑ:</b> ${p.s}`,
    `๐ <b>ุณูุงุฏ:</b> ${p.f}`
  ];
}

function expandTopic(topic, plantKey){
  const p = plantDB[plantKey] || null;

  const common = {
    watering: `
      <b>ุชูุงุตูู ุงูุฑู (ุจุดูู ุฐูู):</b><br>
      1) ุญุท ุตุจุงุนู 3-4 ุณู ูู ุงูุชุฑุจุฉ: <b>ูุงุดู</b> = ุงุณููุ <b>ุทุฑู</b> = ุงุณุชูู.<br>
      2) ุงุณูู ูุญุฏ ูุง ุงูููุฉ ุชูุฒู ูู ุชุญุช (ูุจุนุฏูุง ูุถูู ุงูุทุจู).<br>
      3) <b>ุนูุงูุงุช ููุฉ ุงูุฑู:</b> ุฐุจูู + ูุฑู ูุงุดู/ููุฑูุด.<br>
      4) <b>ุนูุงูุงุช ุฒูุงุฏุฉ ุงูุฑู:</b> ุงุตูุฑุงุฑ + ุทุฑุงูุฉ + ุฑูุญุฉ ุนูู + ูุทุฑูุงุช.<br>
      <div class="meta-line">ูู ุชูููู: ุฏุงุฎู/ุฎุงุฑุฌ + ุญุฌู ุงูุฃุตูุต + ุงูุฌู (ุตูู/ุดุชุง) ุฃุฏูู ุฌุฏูู ุฃุฏู.</div>
    `,
    light: `
      <b>ุชูุงุตูู ุงูุถูุก/ุงูููุงู:</b><br>
      โข <b>ุดูุณ ูุจุงุดุฑุฉ</b>: ุงูุดูุณ ุชูุน ุนูู ุงููุฑู (ููุถู ุตุจุงุญ).<br>
      โข <b>ุถูุก ุบูุฑ ูุจุงุดุฑ</b>: ุงูููุงู ูููุฑ ุจุฏูู ุดูุณ ุนูู ุงููุฑู.<br>
      โข ูู ุงููุฑู ุจูุญุฑู/ุจูุน ุจููุฉ: ููู ุดูุณ ุงูุถูุฑ.<br>
      โข ูู ุงูููู ุจุทูุก/ุณุงู ุทูููุฉ: ุฒููุฏ ุงูุฅุถุงุกุฉ ุชุฏุฑูุฌููุง.<br>
      <div class="meta-line">ูุตูุญุฉ: ูู ุงูุฃุตูุต ูู ุฃุณุจูุน ุนุดุงู ุงูููู ูุจูู ูุชูุงุฒู.</div>
    `,
    fertilize: `
      <b>ุชูุงุตูู ุงูุชุณููุฏ:</b><br>
      โข ูู ุงูุฑุจูุน/ุงูุตูู: ุณูุงุฏ ูุชูุงุฒู ูู 3-4 ุฃุณุงุจูุน ููุนุธู ุงููุจุงุชุงุช ุงูุฏุงุฎููุฉ.<br>
      โข ูู ุงูุดุชุงุก: ููู/ููู ุงูุชุณููุฏ ูููุจุงุชุงุช ุงูุจุทูุฆุฉ.<br>
      โข <b>ุฒูุงุฏุฉ ุงูุณูุงุฏ</b> ุชุนูู ุญุฑูู ูู ุฃุทุฑุงู ุงููุฑูโฆ ูู ุญุตู: ุงุบุณู ุงูุชุฑุจุฉ ุจุฑู ุบุฒูุฑ ูุฑุฉ/ูุฑุชูู.<br>
      <div class="meta-line">ูู ุงููุจุงุช ูุฒูุฑ/ูุซูุฑโฆ ุงูุจูุชุงุณููู ูุณุงุนุฏ ุงูุชุฒููุฑ.</div>
    `,
    symptoms: `
      <b>ุชุดุฎูุต ุณุฑูุน ููุฃุนุฑุงุถ (ุงุฎุชุงุฑ ุงููู ุนูุฏู):</b><br>
      โข <b>ุงุตูุฑุงุฑ</b>: ุบุงูุจูุง ุฒูุงุฏุฉ ุฑู ุฃู ููุต ุถูุก ุฃู ููุต ุชุบุฐูุฉ.<br>
      โข <b>ุฐุจูู</b>: ููุฉ ุฑู ุฃู ุญุฑุงุฑุฉ/ุดูุณ ุฒูุงุฏุฉ ุฃู ุฌุฐูุฑ ูุฎูููุฉ.<br>
      โข <b>ุจูุน ุจููุฉ</b>: ุดูุณ ุญุงุฑูุฉ ุฃู ูุทุฑูุงุช ุฃู ุฃููุงุญ ุนุงููุฉ.<br>
      โข <b>ูุฑู ุจููู</b>: ุนุทุด ุฃู ููุงุก ุฌุงู ุฃู ุจุฑุฏ.<br>
      <div class="meta-line">ููููู 3 ุญุงุฌุงุช: (ุฏุงุฎู/ุฎุงุฑุฌ) + (ุจุชุณูู ูู ูุฏ ุงูู) + (ุฅุถุงุกุฉ) ููุฏูู ุชุดุฎูุต ุฃุฏู.</div>
    `,
    pests: `
      <b>ุญุดุฑุงุช/ุขูุงุช โ ุฎุทุฉ ุฅููุงุฐ:</b><br>
      1) ุงุนุฒู ุงููุจุงุช ุนู ุงูุจุงูู.<br>
      2) ุงูุณุญ ุงููุฑู ุจููุฉ ูุตุงุจูู ูุทูู (ุฃู ุตุงุจูู ุจูุชุงุณููู) + ุงุดุทู ุจุนุฏ 10 ุฏูุงุฆู.<br>
      3) ุฑุด ุฒูุช ููู (ูู ูุชุงุญ) ูู 5-7 ุฃูุงู ูุญุฏ ูุง ุชุฎุชูู.<br>
      4) ูุต ุงูุฃูุฑุงู ุงููุชุถุฑุฑุฉ ุฌุฏูุง.<br>
      <div class="meta-line">ูู ุนูุฏู โููู/ุจู ุฏูููู/ุฐุจุงุจุฉ ุจูุถุงุกโ ูููู ุดูู ุงูุญุดุฑุฉ ูุฃูุง ุฃุธุจุท ูู ุงูุฌุฑุนุฉ ูุงูุฎุทูุงุช.</div>
    `,
    repot: `
      <b>ููู/ุชุฏููุฑ ุงูุฃุตูุต:</b><br>
      โข ุงููู ููุง ุงูุฌุฐูุฑ ุชููุฃ ุงูุฃุตูุต ุฃู ุงูููุฉ ุชุนุฏูู ุจุณุฑุนุฉ ุฌุฏูุง.<br>
      โข ูุจุฑ ุงูููุงุณ โุฏุฑุฌุฉ ูุงุญุฏุฉโ ููุท (ูุด ููุฒุฉ ูุจูุฑุฉ).<br>
      โข ุงุณุชุฎุฏู ุชุฑุจุฉ ุฎูููุฉ + ุตุฑู ููุชุงุฒ.<br>
      โข ุจุนุฏ ุงูููู: ุงุณูู ูุฑุฉ ูููุณ ูุจุนุฏูู ุฑู ูุนุชุฏู (ุจูุงุด ุชุณููุฏ ุฃุณุจูุนูู).<br>
    `,
    soil: `
      <b>ุงูุชุฑุจุฉ ุงูุตุญ:</b><br>
      โข ูุงุนุฏุฉ ุฐูุจูุฉ: <b>ุฎูููุฉ + ุชุตุฑูู</b> (ุจูุชููุณ/ููุจูุณุช + ุจูุฑูุงูุช/ุฑูู + ุดููุฉ ุชุฑุจุฉ).<br>
      โข ููุตุจุงุฑุงุช: ุฒููุฏ ุฑูู/ุจูุฑูุงูุช ูููู ุงูุนุถูู.<br>
      โข ููุณุฑุฎุณ/ูุงูุงุซูุง: ุฒููุฏ ุงูุนุถูู ูุญุงูุธ ุนูู ุฑุทูุจุฉ ุจุฏูู ุบุฑู.<br>
    `,
    pruning: `
      <b>ุชูููู/ูุต:</b><br>
      โข ูุต ุงูููู = ุชูุฑูุน ููุซุงูุฉ (ุฎุตูุตูุง ุฃุนุดุงุจ ูุดูููุฑุง ูุจูุชุณ).<br>
      โข ุดูู ุงููุฑู ุงูุฏุจูุงู ุฃูู ุจุฃูู.<br>
      โข ุงุณุชุฎุฏู ููุต ูุธูู/ูุนูู.<br>
    `,
    propagate: `
      <b>ุงูุฅูุซุงุฑ:</b><br>
      โข ูุนุธู ุงููุชุณููุงุช (ุจูุชุณ/ุณูุฌููููู/ููููุฏููุฏุฑูู): <b>ุนูููุฉ</b> ูู ููุฉ ุฃู ุชุฑุจุฉ ูุน ุนูุฏุฉ.<br>
      โข ุงูุฃุนุดุงุจ: ุนููู ุฃู ุจุฐูุฑ ุญุณุจ ุงูููุน.<br>
      โข ุงูุตุจุงุฑุงุช/ุงูุนุตุงุฑูุงุช: ูุตู ุฎููุงุช ุฃู ูุฑูุฉ (ุญุณุจ ุงูููุน) ุจุนุฏ ูุง ุชูุดู ุงูููุทุนุฉ.<br>
    `,
    toxicity: `
      <b>ุงูุณูููุฉ (ุญููุงูุงุช/ุฃุทูุงู):</b><br>
      โข ูู ูุจุงุชุงุช ุฏุงุฎููุฉ ูุชูุฑ ูููู ุชูููุฌ ุงููุนุฏุฉ ูู ุงุชุงููุช (ุฒู ุฏูููุจุงุฎูุง ูุจุนุถ ุงููููุณ).<br>
      โข ูู ุนูุฏู ูุทุท/ููุงุจ: ุฎููู ุญุฐุฑ ูุฎูู ุงููุจุงุช ุจุนูุฏุ ููููู ุงุณู ุงููุจุงุช ูุฃูุง ุฃุฏูู ุชูููู ุฃูุฑุจ.<br>
    `,
    summary: `
      <b>ุฎูุงุตุฉ ุณุฑูุนุฉ:</b><br>
      ${plantChecklist(plantKey).join("<br>")}
      <div class="meta-line">ููู โุงุดุฑุญูู ุฃูุชุฑโ ูู ุชุญุจ ุชูุงุตูู.</div>
    `
  };

  // ุฅุถุงูุฉ ููุณุฉ ุดุฎุตูุฉ ุญุณุจ ุงููุจุงุช
  if(p){
    if(topic==="summary") return common.summary;
    if(topic==="watering") return `<b>${p ? "๐ง ูุธุงู ุงูุฑู ูููุจุงุช ุฏู:" : ""}</b><br>${p.w}<br><br>${common.watering}`;
    if(topic==="light") return `<b>โ๏ธ ุงูููุงู ุงูููุงุณุจ ูููุจุงุช ุฏู:</b><br>${p.s}<br><br>${common.light}`;
    if(topic==="fertilize") return `<b>๐ ุงูุชุณููุฏ ูููุจุงุช ุฏู:</b><br>${p.f}<br><br>${common.fertilize}`;
    if(topic==="tips") return `<b>๐ก ูุนูููุฉ ุณุฑูุนุฉ:</b><br>${p.n}<br><br>ูู ุชุญุจ: ููู โุงุดุฑุญูู ุฃูุชุฑโ.`;
  }

  return common[topic] || common.summary;
}

function detectIntent(text){
  const t = normalizeArabic(text);

  // change plant command
  const changeMatch = t.match(/^(ุบูุฑ|ุจุฏู|ุญูู|ุฎูู|ุงุณุงู|ุงุณุงููู)\s*(ุงููุจุงุช|ุงูุฒุฑุนู)?\s*(ู|ุงูู|ุนู|:)\s*(.+)$/);
  if(changeMatch && changeMatch[4]){
    return { intent:"change_plant", value: changeMatch[4].trim() };
  }

  // list
  if(/(ุงููุงุน|ุงูุงููุงุน|ุนูุฏู ุงูู|ูุงุฆูู|ุงููุงุฆูุฉ|ููุณุช|list)/.test(t)) return {intent:"list"};

  // help
  if(/(ุงูุงูุฑ|ูุณุงุนุฏู|help|ุงุฒุงู|ุชุนูููุงุช)/.test(t)) return {intent:"help"};

  // price
  if(/(ุณุนุฑ|ูุงู|ุจูุงู|ุชูู|ุจูุงุจ)/.test(t)) return {intent:"price"};

  // greetings
  if(/^(ุงุฒูู|ุนุงูู ุงูู|ุงููุง|ููุง|ุณูุงู|ุงูุณูุงู ุนูููู|ุตุจุงุญ|ูุณุงุก|ูุงู|hello)/.test(t)) return {intent:"greet"};

  // thanks
  if(/(ุดูุฑุง|ุชุณูู|ุญุจูุจู|merci|thx|ูุชุดูุฑ)/.test(t)) return {intent:"thanks"};

  // explain / more
  if(/(ุงุดุฑุญ|ุชูุงุตูู|ูุถุญ|ููู|ุงุฒุงู|ูุฒูุฏ|ุงูุชุฑ|more)/.test(t)) return {intent:"explain"};

  // topics
  const topics = [
    {k:"watering", re: /(ุฑู|ุงุณูู|ุงุณูููุง|ุงุณููู|ููู|ููุงู|ุนุทุด|ุณูุงูุฉ|ุฌุฏูู)/},
    {k:"light", re: /(ุดูุณ|ููุฑ|ุถูุก|ููุงู|ุงุถุงุกู|ุธู|ุฌูู|ุจุฑุง|ุจููููู|ุดุจุงู)/},
    {k:"fertilize", re: /(ุณูุงุฏ|ุชุณููุฏ|ุบุฐุง|ุงูู|npk|ุญุฏูุฏ|ุจูุชุงุณููู|ุนูุงุตุฑ)/},
    {k:"soil", re: /(ุชุฑุจู|ุทูู|ุจูุชููุณ|ุฑูู|ุจูุฑูุงูุช|ุตุฑู|ุชุตุฑูู)/},
    {k:"repot", re: /(ุงุตูุต|ูุตุฑูู|ูุนุงุก|ููู|ุชุฏููุฑ|ุฌุฐูุฑ|ูุจุฑุช|ุชุบูุฑ|ุชุจุฏูู ุชุฑุจุฉ)/},
    {k:"pests", re: /(ุญุดุฑุงุช|ูู|ุจู|ุจูุน ุณูุฏุงุก|ุจู ุฏูููู|ุฐุจุงุจู|ุจูุถุงุก|ุนููุจูุช|ุณูุณ|ูุทุฑูุงุช)/},
    {k:"symptoms", re: /(ุงุตูุฑ|ุงุตูุฑุงุฑ|ูุตูุฑ|ุฐุงุจู|ุฐุจูู|ูุงูุน|ุจุชูุน|ุจูุน|ุจูู|ุงุณูุฏ|ูุชุนูู|ุฑูุญู|ูููุฎูู|ููุฑูุด|ููุชูู|ุจูุทุฑู)/},
    {k:"pruning", re: /(ุชูููู|ูุต|ุงูุต|ุงูุทุน|ุงูุฑุน|ุชูุฑูุน|ุชุดุฐูุจ)/},
    {k:"propagate", re: /(ุงูุซุงุฑ|ุนููู|ุนูู|ุจุฐูุฑ|ุฎููุงุช|ุชูุตูุต|ุชุฑููุฏ|ุชุทุนูู)/},
    {k:"toxicity", re: /(ุณุงู|ุณููู|ูุทุท|ููุงุจ|ุงุทูุงู|ุจูุจู|ูุงูู)/},
    {k:"summary", re: /(ุฎูุงุตู|ููุฎุต|ูุฎุชุตุฑ|summary)/},
    {k:"tips", re: /(ูุตูุญู|ูุนูููู|tip|ููู|ุงูู|ุญููู|ูุงูุฏู)/},
  ];

  for(const tp of topics){
    if(tp.re.test(t)) return {intent:"topic", topic: tp.k};
  }

  // fallback
  return {intent:"unknown"};
}

function greetReply(){
  const name = state.plantKey || state.plantNameFromURL || "ูุจุงุช";
  const checklist = plantChecklist(state.plantKey).slice(0,3);

  return `
    ุงุฒูู ูุง ุตุงุญุจู ๐<br>
    ุฃูุง <b>${escapeHTML(name)}</b>ุ ูุจุจูู ุชูุงู ููุง ุชูุชู ุจูุง ๐<br><br>
    <b>ุนุดุงู ุฃูุถู ูููุณุฉ ุงุนูู 3 ุญุงุฌุงุช:</b><br>
    โข ${checklist[0]}<br>
    โข ${checklist[1]}<br>
    โข ${checklist[2]}<br>
    <div class="meta-line">ุงุณุฃููู ุจุฃู ุทุฑููุฉ: โููู ูุฑูู ุจูุตูุฑุโ ุฃู โุฃุญุทู ูููุโ ุฃู โุงูุชู ุฃุณููุโ.</div>
  `;
}

function priceReply(){
  return `ุงูุฃุณุนุงุฑ ุจุชุชุบูุฑ ุญุณุจ <b>ุงูุญุฌู</b> ู<b>ุงูููุณู</b> ๐<br>
  ุดุฑููุง ูู ุงููุดุชู ููุงุจุชู ูุญูุฏ ููุนูู ูุนุงู ุฃุญูู ูุงุฌุจ! ๐`;
}

function unknownPlantFallback(userText){
  // โููุฉ ุฎุงุฑูุฉโ ุนุงูุฉ ูุฃู ูุจุงุช
  const t = normalizeArabic(userText);
  let quick = `
    ุญุงุถุฑ! ุญุชู ูู ููุน ุงูุฒุฑุนุฉ ูุด ูุนุฑููโฆ ูุฏูู ูุงุนุฏุฉ ุฐูุจูุฉ ุชูุดู ูุน 90% ูู ุงููุจุงุชุงุช ๐ฟ<br><br>
    <b>ุงูููุงุนุฏ ุงูุนุงูุฉ:</b><br>
    โข ุงูุฑู: ุงุณูู <b>ุจุนุฏ ูุง ุณุทุญ ุงูุชุฑุจุฉ ููุดู</b> (ุงูุตุจุงุฑุงุช: ุจุนุฏ ูุง ุชูุดู ุชูุงูุงู).<br>
    โข ุงูุถูุก: ุถูุก ููู <b>ุบูุฑ ูุจุงุดุฑ</b> ุฃูุถู ููุนุธู ุงูุฏุงุฎููโฆ ูุดูุณ ุตุจุงุญ ููุนุธู ุงูุฎุงุฑุฌู.<br>
    โข ุงูุตุฑู: ูุชุญุงุช ุชุญุช ุงูุฃุตูุต + ุชุฑุจุฉ ุฎูููุฉ = ูุจุงุช ุณุนูุฏ.<br>
  `;

  // ูู ุงูุณุคุงู ููู ุนุฑุถ ูุญุฏุฏ ูุฏู ุชุดุฎูุต ุฃุณุฑุน
  if(/ุงุตูุฑ|ุงุตูุฑุงุฑ|ูุตูุฑ/.test(t)) quick += `<br><b>ุจุงููุณุจุฉ ููุงุตูุฑุงุฑ:</b> ุบุงูุจุงู ุฒูุงุฏุฉ ุฑู ุฃู ููุต ุถูุก. ุฌุฑูุจ ุชููู ุงูุฑู + ุชุฒูุฏ ุงูุฅุถุงุกุฉ ุชุฏุฑูุฌููุง.`;
  if(/ุฐุจู|ุฐุจูู|ูุชูุฏู/.test(t)) quick += `<br><b>ุจุงููุณุจุฉ ููุฐุจูู:</b> ุงูุญุต ุงูุชุฑุจุฉ: ูู ูุงุดูุฉ ุงุณููโฆ ูู ุทุฑูุฉ ูุจูู ุฒูุงุฏุฉ ุฑู/ุชุนูู ุฌุฐูุฑ.`;
  if(/ุญุดุฑุงุช|ุจู|ูู|ุฐุจุงุจุฉ/.test(t)) quick += `<br><b>ุจุงููุณุจุฉ ููุญุดุฑุงุช:</b> ุงูุณุญ ุงููุฑู ุจุตุงุจูู ูุทูู + ุนุฒู + ุชูุฑุงุฑ ูู ุฃุณุจูุน.`;

  quick += `<div class="meta-line">ูู ุชููููู: ุฏุงุฎู ููุง ุฎุงุฑุฌุ + ุจุชุณูู ูู ูุฏ ุงููุ + ุงูุฅุถุงุกุฉุ ูุฏูู ุฑุฏ โุฏููู ุฌุฏุงูโ.</div>`;
  return quick;
}

/* =========================
   6) ุงูููุทู ุงูุฑุฆูุณู ููุฑุฏ
========================= */
function replyLogic(){
  const input = document.getElementById("userInput");
  const raw = input.value || "";
  const text = raw.trim();
  if(!text) return;

  addMsg(escapeHTML(text), "user");
  input.value = "";

  const typingNode = addTyping();

  setTimeout(()=>{
    const intent = detectIntent(text);

    // Change plant
    if(intent.intent==="change_plant"){
      const newName = intent.value;
      const k = findPlantKeyByName(newName) || newName;
      setPlant(k);
      removeTyping(typingNode);
      addMsg(`ุชูุงู โ ุญููุช ุงูุฏุฑุฏุดุฉ ูู: <b>${escapeHTML(state.plantKey || state.plantNameFromURL)}</b>.<br>ุงุณุฃููู ุจูู ุจุฑุงุญุชู.`, "bot", [
        {label:"ุฎูุงุตุฉ ุงูุนูุงูุฉ", fill:"ุฎูุงุตุฉ ุงูุนูุงูุฉ"},
        {label:"ุงูุฑู", fill:"ุงูุฑู"},
        {label:"ุงูุดูุณ/ุงูููุงู", fill:"ุงูุดูุณ/ุงูููุงู"}
      ]);
      return;
    }

    if(intent.intent==="help"){
      removeTyping(typingNode);
      showHelp();
      return;
    }

    if(intent.intent==="list"){
      removeTyping(typingNode);
      showPlantList();
      return;
    }

    // Replies
    let html = "";
    let actions = [
      {label:"ุงุดุฑุญูู ุฃูุชุฑ", fill:"ุงุดุฑุญูู ุฃูุชุฑ"},
      {label:"ุฎูุงุตุฉ ุงูุนูุงูุฉ", fill:"ุฎูุงุตุฉ ุงูุนูุงูุฉ"}
    ];

    if(intent.intent==="price"){
      html = priceReply();
      state.lastTopic = "price";
    }
    else if(intent.intent==="thanks"){
      html = "ุงูุนูู ูุง ุบุงูู! ููุฑุชูุง ๐<div class='meta-line'>ูู ุงุญุชุฌุช ุฃู ุญุงุฌุฉ ุนู ุงูุฑู/ุงูุดูุณ/ุงูุฃุนุฑุงุถ ุฃูุง ููุฌูุฏ.</div>";
      state.lastTopic = "thanks";
    }
    else if(intent.intent==="greet"){
      html = greetReply();
      state.lastTopic = "greet";
      actions = [
        {label:"ุฎูุงุตุฉ ุงูุนูุงูุฉ", fill:"ุฎูุงุตุฉ ุงูุนูุงูุฉ"},
        {label:"ุงุดุฑุญูู ุฃูุชุฑ", fill:"ุงุดุฑุญูู ุฃูุชุฑ"},
        {label:"ุนูุฏู ุงุตูุฑุงุฑ", fill:"ูุฑูู ุจูุตูุฑโฆ ุงูู ุงูุญูุ"}
      ];
    }
    else if(intent.intent==="explain"){
      // ูุดุฑุญ ุขุฎุฑ ููุทุฉ
      const topic = state.lastTopic || "summary";
      if(state.plantKey){
        html = expandTopic(topic, state.plantKey);
      }else{
        html = expandTopic(topic, null);
      }
      actions = [
        {label:"ุฃุนุฑุงุถ (ุงุตูุฑุงุฑ/ุฐุจูู)", fill:"ุนูุฏู ุงุตูุฑุงุฑ ูุฐุจูู"},
        {label:"ุญุดุฑุงุช", fill:"ูู ุญุดุฑุงุช ุนูู ุงููุฑู"},
        {label:"ููู ุฃุตูุต", fill:"ุงูุชู ุฃููู ุงูุฃุตูุตุ"}
      ];
    }
    else if(intent.intent==="topic"){
      state.lastTopic = intent.topic;
      if(state.plantKey){
        html = expandTopic(intent.topic, state.plantKey);
      }else{
        // ูู ุงููุจุงุช ูุด ูุนุฑูู: ุฑุฏ ุนุงู + ุชูุณุนุฉ ููููุถูุน
        if(intent.topic==="summary") html = expandTopic("summary", null);
        else html = expandTopic(intent.topic, null) + "<br><br>" + unknownPlantFallback(text);
      }
      actions = [
        {label:"ุงุดุฑุญูู ุฃูุชุฑ", fill:"ุงุดุฑุญูู ุฃูุชุฑ"},
        {label:"ุณุคุงู ุชุงูู", fill:"ุทูุจ ูู ุงููุฑู ุจูุตูุฑุ"},
        {label:"ุบูุฑ ุงููุจุงุช", fill:"ุบูุฑ ุงููุจุงุช ู: "}
      ];
    }
    else {
      // unknown intent -> โููุฉ ุฎุงุฑูุฉโ ุนุงูุฉ + ูุญุงููุงุช ููู
      state.lastTopic = "unknown";
      html = state.plantKey
        ? `ุชูุงูโฆ ูููุช ุณุคุงูู ุจุดูู ุนุงู โ<br><br>${unknownPlantFallback(text)}`
        : unknownPlantFallback(text);

      actions = [
        {label:"ุงูุฑู", fill:"ุงูุชู ุฃุณููุ"},
        {label:"ุงูุดูุณ/ุงูููุงู", fill:"ุฃุญุทูุง ูููุ"},
        {label:"ุงุดุฑุญูู ุฃูุชุฑ", fill:"ุงุดุฑุญูู ุฃูุชุฑ"}
      ];
    }

    removeTyping(typingNode);
    addMsg(html, "bot", actions);
  }, 650);
}

/* =========================
   7) ุชุฑุญูุจ ุฃูู ูุฑุฉ
========================= */
function welcome(){
  const display = state.plantKey || state.plantNameFromURL || "ุนุงูุฉ";
  let html = `ูุง ุฃููุงู ๐ ุฃูุง <b>${escapeHTML(display)}</b>.<br>`;
  if(state.plantKey){
    html += `ุงุณุฃููู ุจุฃู ุฃุณููุจ: <b>ุงุฒููุ</b> / <b>ุงูุชู ุฃุณููุ</b> / <b>ุฃุญุทู ูููุ</b> / <b>ููู ุงููุฑู ุจูุตูุฑุ</b>`;
  }else{
    html += `ุญุชู ูู ุงุณู ุงููุจุงุช ูุด ูุถุจูุทโฆ ูุณุงุนุฏู ุจุฅุฑุดุงุฏุงุช ุนุงูุฉ ูุชุดุฎูุต ููุฃุนุฑุงุถ ๐ฟ`;
  }
  html += `<div class="meta-line">ุชูุฏุฑ ููุงู ุชููู: โุบูุฑ ุงููุจุงุช ู: ูุนูุงุนโ</div>`;

  addMsg(html, "bot", [
    {label:"ุงุฒููุ", fill:"ุงุฒููุ"},
    {label:"ุฎูุงุตุฉ ุงูุนูุงูุฉ", fill:"ุฎูุงุตุฉ ุงูุนูุงูุฉ"},
    {label:"ูุฑูู ุจูุตูุฑ", fill:"ููู ุงููุฑู ุจูุตูุฑุ"}
  ]);
}

/* =========================
   8) Voice (ุงุฎุชูุงุฑู)
========================= */
function toggleVoice(){
  const btn = document.getElementById("voiceBtn");

  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  if(!SpeechRecognition){
    addMsg("ููุฃุณู ุงููุชุตูุญ ุฏู ูุด ุจูุฏุนู ุงูุฅููุงุก ุงูุตูุชู ๐", "bot");
    return;
  }

  if(!state.recognition){
    state.recognition = new SpeechRecognition();
    state.recognition.lang = "ar-EG";
    state.recognition.interimResults = false;
    state.recognition.maxAlternatives = 1;

    state.recognition.onresult = (event)=>{
      const transcript = event.results?.[0]?.[0]?.transcript || "";
      document.getElementById("userInput").value = transcript;
      btn.classList.remove("active");
      state.voiceOn = false;
    };
    state.recognition.onerror = ()=>{
      btn.classList.remove("active");
      state.voiceOn = false;
    };
    state.recognition.onend = ()=>{
      btn.classList.remove("active");
      state.voiceOn = false;
    };
  }

  if(state.voiceOn){
    state.recognition.stop();
    state.voiceOn = false;
    btn.classList.remove("active");
  }else{
    state.recognition.start();
    state.voiceOn = true;
    btn.classList.add("active");
  }
}

/* =========================
   9) Start
========================= */
(function init(){
  const params = new URLSearchParams(window.location.search);
  const rawType = params.get("type") || "ุนุงูุฉ";
  const pType = rawType.replace(/_/g," ");
  setPlant(pType);

  // ุฑุณุงูุฉ ุตุบูุฑุฉ: ูู ุงููุณุชุฎุฏู ูุชุจ "ุนู ูุจุงุช X" ุจุฏูู ุฃูุฑ
  // ูุชุดุชุบู ุชููุงุฆููุง ูุน fuzzy match ููุง ููุชุจ "ุบูุฑ ุงููุจุงุช ู: X"
})();
</script>
</body>
</html>
