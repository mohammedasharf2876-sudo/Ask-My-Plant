<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oregano Talk - ÙƒÙ„Ù… Ø²Ø±Ø¹ØªÙƒ</title>
    <style>
        /* Ø³ØªØ§ÙŠÙ„ Ø´ÙŠÙƒ ÙŠØ´Ø¨Ù‡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f9f9f9; margin: 0; padding-bottom: 80px; }
        .header { background: #1b4d3e; color: white; padding: 20px; text-align: center; border-radius: 0 0 25px 25px; sticky; top: 0; }
        .chat-box { padding: 15px; display: flex; flex-direction: column; gap: 10px; }
        .msg { padding: 12px 18px; border-radius: 20px; max-width: 80%; font-size: 15px; line-height: 1.5; }
        .bot { background: #e2f0e9; align-self: flex-start; color: #1b4d3e; }
        .user { background: #1b4d3e; align-self: flex-end; color: white; }
        .input-area { position: fixed; bottom: 0; width: 100%; background: white; padding: 10px; display: flex; gap: 10px; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); }
        .input-area button { background: #1b4d3e; color: white; border: none; padding: 10px 15px; border-radius: 10px; cursor: pointer; }
    </style>
</head>
<body>

<div class="header">
    <h2 id="pName">Ù†Ø¨ØªØ© Ø£ÙˆØ±ÙŠØ¬Ø§Ù†Ùˆ ğŸŒ¿</h2>
    <small>Ø£Ù†Ø§ Ù‡Ù†Ø§ Ø¹Ø´Ø§Ù† Ø£Ù‚ÙˆÙ„Ùƒ Ù…Ø­ØªØ§Ø¬Ø© Ø¥ÙŠÙ‡!</small>
</div>

<div class="chat-box" id="chatBox">
    </div>

<div class="input-area">
    <button onclick="ask('Ø£Ø´Ø±Ø¨ Ù…ÙŠØ© Ø¥Ù…ØªÙ‰ØŸ')">Ø´Ø±Ø¨ Ø§Ù„Ù…ÙŠØ©</button>
    <button onclick="ask('Ø£ØªØ­Ø· ÙÙŠÙ†ØŸ')">Ù…ÙƒØ§Ù†ÙŠ ÙÙŠÙ†ØŸ</button>
    <button onclick="clearChat()" style="background:#cc0000;">Ù…Ø³Ø­ Ø§Ù„Ø´Ø§Øª</button>
</div>

<script>
    const urlParams = new URLSearchParams(window.location.search);
    const pType = urlParams.get('type') || 'default';

    const data = {
        'jasmine': { name: 'ÙŠØ§Ø³Ù…ÙŠÙ†Ø© Ø£ÙˆØ±ÙŠØ¬Ø§Ù†Ùˆ ğŸŒ¼', welcome: 'ÙŠØ§ Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙŠÙƒ! Ø£Ù†Ø§ ÙŠØ§Ø³Ù…ÙŠÙ†Ø©.. Ø±ÙŠØ­ØªÙŠ Ù‡ØªÙ…Ù„Ù‰ Ø¨ÙŠØªÙƒØŒ Ø¨Ø³ Ø¯Ù„Ø¹Ù†ÙŠ!', water: 'Ø§Ø³Ù‚ÙŠÙ†ÙŠ Ù…Ø±ØªÙŠÙ† ÙÙŠ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ØŒ ÙˆØ¨Ù„Ø§Ø´ ØªØºØ±Ù‚Ù†ÙŠ Ù…ÙŠØ© ÙƒØªÙŠØ± ÙŠØ§ ÙÙ†Ø§Ù†.', sun: 'Ø­Ø·Ù†ÙŠ ÙÙŠ Ø§Ù„Ø¨Ù„ÙƒÙˆÙ†Ø© ÙÙŠ Ù…ÙƒØ§Ù† ÙÙŠÙ‡ Ø´Ù…Ø³ Ø§Ù„ØµØ¨Ø­ØŒ Ø¨Ù„Ø§Ø´ Ø´Ù…Ø³ Ø§Ù„Ø¸Ù‡Ø± Ø§Ù„Ø­Ø§Ù…ÙŠØ©.' },
        'cactus': { name: 'ØµØ¨Ø§Ø± Ø§Ù„Ù…Ø¤Ø³Ø³Ø© ğŸŒµ', welcome: 'ÙŠØ§ ØµØ§Ø­Ø¨ÙŠ Ø£Ù†Ø§ ØµØ¨Ø§Ø± ÙŠØ¹Ù†ÙŠ Ø§Ù„ØµØ¨Ø± ÙƒÙ„Ù‡ Ø¹Ù†Ø¯ÙŠØŒ Ù…ØªÙ‚Ù„Ù‚Ø´ Ø¹Ù„ÙŠØ§!', water: 'Ø§Ø³Ù‚ÙŠÙ†ÙŠ Ù…Ø±Ø© ÙƒÙ„ Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ†ØŒ Ø£Ù†Ø§ Ø¨Ø­Ø¨ Ø§Ù„Ø¹Ø·Ø´ Ø£ÙƒØªØ± Ù…Ù† Ø§Ù„Ù…ÙŠØ©.', sun: 'Ø§Ø±Ù…ÙŠÙ†Ø§ ÙÙŠ Ø§Ù„Ø´Ù…Ø³ ÙˆØ³ÙŠØ¨Ù†Ø§ØŒ Ø£Ù†Ø§ Ø¨Ø¹Ø´Ù‚ Ø§Ù„Ø­Ø±Ø§Ø±Ø©.' }
    };

    const plant = data[pType] || data['jasmine'];
    document.getElementById('pName').innerText = plant.name;

    // ÙˆØ¸ÙŠÙØ© Ø­ÙØ¸ ÙˆØ§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø´Ø§Øª
    function loadChat() {
        const saved = localStorage.getItem('chat_' + pType);
        if (saved) {
            document.getElementById('chatBox').innerHTML = saved;
        } else {
            addMsg(plant.welcome, 'bot');
        }
    }

    function addMsg(text, side) {
        const box = document.getElementById('chatBox');
        const div = document.createElement('div');
        div.className = `msg ${side}`;
        div.innerText = text;
        box.appendChild(div);
        localStorage.setItem('chat_' + pType, box.innerHTML);
        window.scrollTo(0, document.body.scrollHeight);
    }

    function ask(q) {
        addMsg(q, 'user');
        setTimeout(() => {
            let res = q.includes('Ù…ÙŠØ©') ? plant.water : plant.sun;
            addMsg(res, 'bot');
        }, 500);
    }

    function clearChat() {
        localStorage.removeItem('chat_' + pType);
        location.reload();
    }

    loadChat();
</script>

</body>
</html>
