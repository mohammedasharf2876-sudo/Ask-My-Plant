<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุดุชู ูุญูุฏ ุงูุฐูู</title>
    <style>
        /* ุชุตููู ุงุญุชุฑุงูู ููุถูู ุฌุฏุงู */
        * { box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background-color: #f0f2f5; 
            margin: 0; 
            display: flex; 
            flex-direction: column; 
            height: 100vh; 
        }
        
        /* ุงูููุฏุฑ */
        .header { 
            background-color: #008069; /* ููู ุงููุงุชุณุงุจ ุงูุจูุฒูุณ */
            color: white; 
            padding: 15px 20px; 
            display: flex; 
            align-items: center; 
            gap: 15px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            z-index: 10;
        }
        .header-icon { font-size: 24px; }
        .header-info h1 { margin: 0; font-size: 18px; font-weight: 600; }
        .header-info p { margin: 2px 0 0; font-size: 12px; opacity: 0.9; }

        /* ููุทูุฉ ุงูุดุงุช */
        #chatBox { 
            flex: 1; 
            padding: 20px; 
            overflow-y: auto; 
            display: flex; 
            flex-direction: column; 
            gap: 15px; 
            background-image: url("https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png"); /* ุฎูููุฉ ูุงุชุณุงุจ */
            background-color: #e5ddd5;
        }

        /* ุงูุฑุณุงุฆู */
        .msg { 
            padding: 10px 15px; 
            border-radius: 8px; 
            max-width: 80%; 
            font-size: 15px; 
            line-height: 1.5; 
            position: relative; 
            box-shadow: 0 1px 1px rgba(0,0,0,0.1);
        }
        .bot { 
            background: white; 
            align-self: flex-start; 
            border-top-left-radius: 0; 
            color: #111b21;
        }
        .user { 
            background: #d9fdd3; 
            align-self: flex-end; 
            border-top-right-radius: 0; 
            color: #111b21;
        }
        .time { font-size: 10px; color: #999; margin-top: 5px; text-align: left; display: block; }

        /* ููุทูุฉ ุงููุชุงุจุฉ */
        .input-area { 
            background: #f0f2f5; 
            padding: 10px; 
            display: flex; 
            align-items: center; 
            gap: 10px; 
        }
        input { 
            flex: 1; 
            padding: 12px 20px; 
            border: none; 
            border-radius: 25px; 
            outline: none; 
            font-size: 15px; 
            background: white;
        }
        button { 
            background: #008069; 
            color: white; 
            border: none; 
            padding: 12px; 
            border-radius: 50%; 
            cursor: pointer; 
            width: 45px; 
            height: 45px; 
            display: flex; 
            align-items: center; 
            justify-content: center;
        }
        button svg { width: 20px; height: 20px; fill: white; }
    </style>
</head>
<body>

    <div class="header">
        <div class="header-icon">๐ฑ</div>
        <div class="header-info">
            <h1 id="plantTitle">ูุดุชู ูุญูุฏ ุงูุฐูู</h1>
            <p>ูุณุงุนุฏู ุงูุดุฎุตู ููุนูุงูุฉ ุจุงููุจุงุชุงุช</p>
        </div>
    </div>

    <div id="chatBox"></div>

    <div class="input-area">
        <input type="text" id="userInput" placeholder="ุงุณุฃููู ุนู ุงูุฑูุ ุงูุดูุณุ ุงูุชุณููุฏ..." onkeypress="handleEnter(event)">
        <button onclick="replyLogic()">
            <svg viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></svg>
        </button>
    </div>

<script>
    // --- ูุงุนุฏุฉ ุจูุงูุงุช ุงูู 50 ุฒุฑุนุฉ (ููุณ ุงููู ูุงูุช ุดุบุงูุฉ) ---
    const plantDB = {
        "ุฑูุญุงู": { w: "ููู ูููู (ุงูุชุฑุจุฉ ุฑุทุจุฉ ุฏุงุฆูุงู)", s: "ุดูุณ ูุจุงุดุฑุฉ ูููุงู ูุชููู", f: "ุณูุงุฏ ุนุถูู ูู ุดูุฑ", n: "ุงูุทู ุงูููู ุงููุงููุฉ ุนุดุงู ููุจุฑ ูููุฑุน." },
        "ูุนูุงุน": { w: "ูู ููู ูู ุงูุตูู", s: "ุดูุณ ุฎูููุฉ ุฃู ูุตู ุธู", f: "ุณูุงุฏ ูุชูุงุฒู NPK", n: "ุงูุฌุฐูุฑ ุจุชูุชุฏ ุจุณุฑุนุฉุ ููุถู ูู ุฃุตูุต ููุญุฏู." },
        "ุฑูุฒูุงุฑู": { w: "ููุง ุงูุชุฑุจุฉ ุชูุดู ุชูุงูุงู", s: "ุดูุณ ุญุงุฑูุฉ", f: "ูุด ูุญุชุงุฌ ุชุณููุฏ ูุชูุฑ", n: "ููุชุงุฒ ูู ุงูุทุจุฎ ูุฑูุญุชู ุจุชุทุฑุฏ ุงูุญุดุฑุงุช." },
        "ุฒุนุชุฑ": { w: "ูููู ุฌุฏุงู", s: "ุดูุณ ูุงููุฉ", f: "ูุฑุฉ ูู ููุณู", n: "ุนุดุจุฉ ูููุฉ ูุจุชุชุญูู ุงูุฌูุงู." },
        "ูุงููุฏุฑ": { w: "ููุง ุงูุชุฑุจุฉ ุชุฌู", s: "ุดูุณ ูููุฉ ุฌุฏุงู", f: "ูููู ุฌุฏุงู", n: "ุฑูุญุชู ููุฏุฆุฉ ูุจูุญุจ ุงูุฌู ุงูุฌุงู." },
        "ูุฑุฏ ุจูุฏู": { w: "ููู ูููู ุจุงูุชุธุงู", s: "ุดูุณ ูุจุงุดุฑุฉ 6 ุณุงุนุงุช", f: "NPK ุนุงูู ุงูุจูุชุงุณููู", n: "ูุต ุงููุฑุฏ ุงูุฏุจูุงู ุฃูู ุจุฃูู." },
        "ูู": { w: "ูู ููููู", s: "ุดูุณ ูุบุฑุจูุฉ", f: "ุญุฏูุฏ ูู ุดูุฑ", n: "ุฑูุญุชู ููุงุญุฉ ููุช ุงูุบุฑูุจ." },
        "ูุงุณููู": { w: "ูุนุชุฏู", s: "ุดูุณ ูุงููุฉ", f: "ุณูุงุฏ ูุชูุงุฒู", n: "ูุจุงุช ูุชุณููุ ูุญุชุงุฌ ุฏุนุงูุฉ." },
        "ุฌุงุฑุฏูููุง": { w: "ููุฉ ุฎุงููุฉ ูู ุงููููุฑ", s: "ุถูุก ููู ุจุฏูู ุดูุณ", f: "ุญุฏูุฏ ูุณูุงุฏ ุญุงูุถู", n: "ุจุชุญุจ ููุงููุง ุซุงุจุช." },
        "ูุณู ุงูููู": { w: "ููู ูููู", s: "ุดูุณ ูุจุงุดุฑุฉ", f: "ุณูุงุฏ ุจูุฏู", n: "ุฑูุญุชู ุจุชููุฃ ุงูุดุงุฑุน ุจููู." },
        "ุฌููููุฉ": { w: "ุชุนุทูุด ุนุดุงู ุชุฒูุฑ", s: "ุดูุณ ุญุงุฑูุฉ", f: "ูุด ูุญุชุงุฌุฉ ุฏูุน", n: "ูู ูุง ุชูุดู ุนูููุง ุชุทูุน ูุฑุฏ ุฃูุชุฑ." },
        "ุจูุชุณ": { w: "ูู 4-5 ุฃูุงู", s: "ุถูุก ููุจุฉ ุฃู ุดุจุงู (ุถู)", f: "ุณูุงุฏ ูุฑูู", n: "ุฃุณูู ุฒุฑุนุฉ ูููุจุชุฏุฆูู." },
        "ุฌูุฏ ุงูููุฑ": { w: "ูู ุฃุณุจูุนูู ูุฑุฉ", s: "ุฃู ุฅุถุงุกุฉ", f: "ูุด ูุญุชุงุฌ", n: "ุจูููู ุงูููุง ููุจูููุชุด ุจุณูููุฉ." },
        "ุฒุงููุง": { w: "ูุฑุฉ ูู 20 ููู", s: "ุถู ูุงูู", f: "NPK ูู ุดูุฑูู", n: "ุงูุฒุฑุนุฉ ุงูุดููุ ูุฑููุง ุจูููุน." },
        "ูููุณุชููุฑุง": { w: "ููุง ูุต ุงูุชุฑุจุฉ ููุดู", s: "ุถูุก ุณุงุทุน ุบูุฑ ูุจุงุดุฑ", f: "NPK", n: "ุจุชุญุจ ุฑุทูุจุฉ ุงูุฌู (ุจุฎูุง ููุฉ)." },
        "ุฏุฑุงุณูุจูุง": { w: "ูุนุชุฏู", s: "ุถูุก ูุชูุณุท", f: "ุณูุงุฏ ุฃุฎุถุฑ", n: "ุดูููุง ุฒู ุงููุฎูุฉ ุงูุตุบูุฑุฉ." },
        "ุตุจุงุฑ": { w: "ููุทุฉ ููุฉ ูู ุดูุฑ", s: "ุดูุณ ุฃู ุถูุก ููู", f: "ูุด ูุญุชุงุฌ", n: "ูู ุณููุชู ูุชูุฑ ุจูููุช." },
        "ุงููููุฑุง": { w: "ูู 3 ุฃุณุงุจูุน", s: "ุดูุณ ุฎูููุฉ", f: "ูุฑุฉ ูู ุงูุณูุฉ", n: "ุงูุฌู ูููุฏ ููุจุดุฑุฉ ูุงูุดุนุฑ." },
        "ูููุณ ูุชุฏุง": { w: "ููู ูููู", s: "ุดูุณ", f: "NPK ุนุงูู ุงูููุชุฑูุฌูู", n: "ุจูุชุนูู ููู ุณูุฑ ุดุฌุฑู." },
        "ููููู": { w: "ููุชุธู", s: "ุดูุณ ูุงููุฉ", f: "ุญุฏูุฏ ูุนูุงุตุฑ ุตุบุฑู", n: "ุนุดุงู ุชุทุฑุญ ูุงุฒู ุดูุณ." }
    };

    // ุฅุนุฏุงุฏุงุช ุงูุตูุญุฉ
    const params = new URLSearchParams(window.location.search);
    const rawType = params.get('type') || 'ุนุงูุฉ';
    const pType = rawType.replace(/_/g, ' '); 
    document.getElementById('plantTitle').innerText = "ุฏุฑุฏุดุฉ ูุน: " + pType;

    // ุฏุงูุฉ ุฅุถุงูุฉ ุงูุฑุณุงุฆู
    function addMsg(text, side) {
        const box = document.getElementById('chatBox');
        const div = document.createElement('div');
        div.className = `msg ${side}`;
        
        const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        div.innerHTML = `${text} <span class="time">${time}</span>`;
        
        box.appendChild(div);
        box.scrollTop = box.scrollHeight;
    }

    // ุฑุณุงูุฉ ุงูุชุฑุญูุจ
    setTimeout(() => {
        let welcome = `ุฃููุงู ูุง ููุงู! ๐<br>ุฃูุง ูุจุชุฉ <b>${pType}</b> ูู ูุดุชู ูุญูุฏ.`;
        if (plantDB[pType]) {
            welcome += `<br>ุฃูุง ุฌุงูุฒุฉ ุฃูููู ุฅุฒุงู ุชูุชู ุจูุง ูุชุฎูููู ูููุฑุฉ! ุงุณุฃููู ุนู ุงูุฑู ุฃู ุงูุดูุณ.`;
        } else {
            welcome += `<br>ุฃูุง ุชุญุช ุฃูุฑู ูู ุฃู ุณุคุงู ุนุงู ุนู ุงูุฒุฑุน.`;
        }
        addMsg(welcome, 'bot');
    }, 500);

    // ุงูุชุนุงูู ูุน ุงูุฅุฏุฎุงู
    function handleEnter(e) { if (e.key === 'Enter') replyLogic(); }

    function replyLogic() {
        const input = document.getElementById('userInput');
        const text = input.value.trim().toLowerCase();
        if (!text) return;

        addMsg(text, 'user');
        input.value = "";

        // ูุญุงูุงุฉ ุงูุชูููุฑ ูุงูุฑุฏ
        setTimeout(() => {
            const info = plantDB[pType];
            let reply = "ุณุคุงู ุฌููู! ุจุณ ุฎูููู ุฃูููู ุนู ุงูุฑู ูุงูุดูุณ ุฃุญุณู.";

            if (text.includes("ุณุนุฑ") || text.includes("ูุงู") || text.includes("ูููุณ")) {
                reply = "ุงูุฃุณุนุงุฑ ุจุชุชุบูุฑ ุญุณุจ ุงูููุงุณ.. ุดุฑููุง ูู ุงููุดุชู ูููุนูู ูุนุงู ุฃุญูู ูุงุฌุจ! ๐";
            }
            else if (text.includes("ุดูุฑุง") || text.includes("ุญุจูุจู")) {
                reply = "ุงูุนูู ูุง ุบุงูู! ููุฑุชูุง ๐";
            }
            else if (info) {
                if (text.includes("ููุฉ") || text.includes("ุฑู") || text.includes("ุงุณูู")) 
                    reply = `๐ง <b>ูุธุงู ุงูุฑู:</b> ${info.w}`;
                else if (text.includes("ุดูุณ") || text.includes("ููุฑ") || text.includes("ุถูุก") || text.includes("ููุงู")) 
                    reply = `โ๏ธ <b>ุงูููุงู ุงูููุงุณุจ:</b> ${info.s}`;
                else if (text.includes("ุณูุงุฏ") || text.includes("ุงูู") || text.includes("ุบุฐุง")) 
                    reply = `๐ <b>ุงูุชุณููุฏ:</b> ${info.f}`;
                else 
                    reply = `๐ก <b>ูุตูุญุฉ ุฐูุจูุฉ:</b> ${info.n}`;
            } 
            else {
                if (text.includes("ููุฉ")) reply = "ุงููุงุนุฏุฉ ุงูุนุงูุฉ: ุญุท ุตุจุงุนู ูู ุงูุชุฑุจุฉุ ูู ูุงุดูุฉ ุงุณููุ ูู ุทุฑูุฉ ุงุณุชูู.";
                else if (text.includes("ุดูุณ")) reply = "ูุนุธู ุงูุฒุฑุน ุจูุญุจ ุถูุก ูููุ ุจุณ ุจูุงุด ุดูุณ ุงูุถูุฑ ุงูุญุงุฑูุฉ.";
                else reply = "ูุง ุฑูุช ุชุชุฃูุฏ ูู ุงุณู ุงูุฒุฑุนุฉ ูู ุงูุฑุงุจุทุ ุฃู ุงุณุฃููู ุณุคุงู ุนุงู.";
            }

            addMsg(reply, 'bot');
        }, 600);
    }
</script>
</body>
</html>
